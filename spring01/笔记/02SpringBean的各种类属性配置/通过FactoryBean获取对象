å½“æˆ‘ä»¬ç”¨FactoryBeanè·å–å¯¹è±¡çš„æ—¶å€™
    ç±»çš„é…ç½®è¦ç»§æ‰¿FactoryBeanæ¥å£
    public class MyFactoryBean implements FactoryBean<Monster> {

        //è¿™ä¸ªå°±æ˜¯ä½ é…ç½®æ—¶å€™ï¼ŒæŒ‡å®šè¦è·å–çš„å¯¹è±¡å¯¹åº”key
        private String key;
        private Map<String, Monster> monster_map;

        {   //ä»£ç å—ï¼Œå®Œæˆåˆå§‹åŒ–
            monster_map = new HashMap<>();
            monster_map.put("monster03", new Monster(300, "ç‰›é­”ç‹~", "èŠ­è•‰æ‰‡~"));
            monster_map.put("monster04", new Monster(400, "ç‹ç‹¸ç²¾~", "ç¾äººè®¡~"));
        }

        public void setKey(String key) {
            this.key = key;
        }

    // è¿™ä¸‰ä¸ªoverrideå†™æ­»å°±è¡Œ æœ€ä¸‹é¢çš„isSingleton()æ–¹æ³•true falseæ²¡ç»†è¯´ æ„Ÿè§‰æ²¡æœ‰å½±å“
        @Override
        public Monster getObject()  {
            return monster_map.get(key);
        }
    //   è¿”å›çš„ç±»å‹ å’Œæ³›å‹ä¸€è‡´å³å¯
        @Override
        public Class<?> getObjectType() {
            //ä½ è¦è¿”å›çš„ç±»å‹
            return Monster.class;
        }

        //æ˜¯å¦å•ä¾‹ true:å•ä¾‹  false:å¤šä¾‹ ä»–è¿™é‡Œæ²¡ç»†è®²
    //    æ¶‰åŠåˆ°å…«è‚¡æ–‡äº† è¿™è¾¹è·³è¿‡
        @Override
        public boolean isSingleton() {//è¿™é‡ŒæŒ‡å®šæ˜¯å¦è¿”æ˜¯å•ä¾‹
            return true;
        }
    }


é…ç½®æ–‡ä»¶çš„å†™æ³•
        <!--é…ç½®monsterå¯¹è±¡ï¼Œé€šè¿‡FactoryBeanè·å–
        è€å¸ˆè§£è¯»
        1. class æŒ‡å®šä½¿ç”¨çš„FactoryBean
        2. keyè¡¨ç¤ºå°±æ˜¯ MyFactoryBean å±æ€§key
               private String key;
        3. valueå°±æ˜¯ä½ è¦è·å–çš„å¯¹è±¡å¯¹åº”key
               monster_map.put("monster04", new Monster(400, "ç‹ç‹¸ç²¾~", "ç¾äººè®¡~"));
        -->
        <bean id="my_monster05" class="com.hspedu.spring.factory.MyFactoryBean">
    <!--        è¿™ä¸ªnameæ˜¯ç±»çš„ä¸€ä¸ªå±æ€§çš„åå­— valueæ˜¯mapçš„key-->
            <property name="key" value="monster04"/>
        </bean>

æµ‹è¯•çš„å†™æ³•
      @Test
        public void getBeanByFactoryBean() {

            ApplicationContext ioc =
                    new ClassPathXmlApplicationContext("beans.xml");

            Monster my_monster05 = ioc.getBean("my_monster05", Monster.class);
            Monster my_monster051 = ioc.getBean("my_monster05", Monster.class);
            System.out.println("my_monster05=" + my_monster05);
            System.out.println("my_monster05=" + my_monster051);
            System.out.println(my_monster05 == my_monster051);//true
            ğŸ‘†å•ä¸å•ä¾‹åŸºæœ¬ä¸Šä¸å½±å“è¿™æ­¥

        }

